<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="ko">
  <head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<!--<script src="js/jquery-1.7.2.min.js" type="text/javascript"></script>-->
    <script src="http://code.jquery.com/jquery-1.12.0.js"></script>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Hello World by NAMKI world</title>
    <link href="assets/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/css/awesome-bootstrap-checkbox.min.css" rel="stylesheet">
    <!--<link href="assets/css/font-awesome.min.css" rel="stylesheet">-->
    <link href="assets/css/style.css" rel="stylesheet">
  </head>
  <body onload="load()">
  <span class="header-ribbon"/>
  <div class="container-fluid">
    <div class="row">
        <div class="col-md-4 col-md-offset-4 col-centered">
            <div class="login-panel">
                <h4 class="login-panel-title">Namki site</h4>
					 <p class="login-panel-tagline">이 웹 어플리케이션 구성 Stack </p><p></p>　　　　　　 -> 서버 : <b>JSP</b> | 클라이언트 : <b>html, jquery, js, css</b></p>
					 <form id="f" name="f" action="http://192.168.177.136:8080/index_loginChk.jsp" method="post">
                <div class="login-panel-section">
                    <div class="form-group">
                        <div class="input-group margin-bottom-sm">
                            <span class="input-group-addon"><i class="fa fa-envelope-o fa-fw" aria-hidden="true"></i></span>
                            <input class="form-control" type="text" id="j_username" placeholder="User id" tabindex="1">
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="input-group">
                            <span class="input-group-addon"><i class="fa fa-key fa-fw" aria-hidden="true"></i></span>
                            <input class="form-control" type="password" id="j_password" placeholder="Password" tabindex="2">
                        </div>
                    </div>
                    <div class="checkbox checkbox-circle checkbox-success checkbox-small">
                        <input type="checkbox" id="checkbox1">
                        <label for="checkbox1">Keep me logged in</label>
                        <a href="#" class="pull-right" onclick="javascript:alert('그만눌러')">Forget your password?</a>
                    </div>
                </div>
                <div class="login-panel-section">
							<div id="login_btn"></div>
                <button onclick="javascript:fn_login();" class="btn btn-default" tabindex="3">로그인</button>
            </form> 
         | <button class="btn btn-default"><a href="http://192.168.177.136:8080/main.jsp">단순 방문자 버튼</a></button><!--<a href="#">Create Your Account</a>-->
        </div>
		    </div>
        </div>
      </div>
	 </div>
	 <script>
	 function load() {
        jQuery("#j_username").focus();
		//document.getElementById("j_username").focus();
	 }
	/* $(document).ready(function() {
    $("#f input").keypress(function (e) {  
        if ((e.which && e.which == 13) || (e.keyCode && e.keyCode == 13)) {
            fn_login();
        }   
    });   
    
    frmChk = function(){
        //if(!blankCheck("#j_username", "#f", "ID를 입력하세요")) { $("#j_username").focus(); return false; }
        //if(!blankCheck("#j_password", "#f", "비밀번호를 입력하세요")) { $("#j_password").focus(); return false; }
        //if($("#j_username" == "")){ return true; }
        return true;
    };   
});*/

function fn_login() {
    if(frmChk()){ //frmChk()
        //document.f.submit();
        $(document).ready(function(){
            //$("#btn").click(function(){};)
            var action = $("#f").attr("action");
            var form_data = {
                user_id: $("#j_username").val(),
                user_pw: $("#j_password").val()
            };
            $.ajax({
                type: "POST",
                url: action,
                data: form_data,
                success: function(response){
                    if(response.trim()=="success"){
                        alert(response.trim());
                        //$('#msg').html("<h1>로그인 성공</h1>");
                        //location.href="http://192.168.177.136:8080/practice_jquery/index.jsp";    
                    }else{
                        //$('#msg').html("<h1>로그인 실패</h1>");
                        //location.href="http://192.168.177.136:8080";    
                    }
                },
                error: function(){
                    $('#msg').html("<h1>error</h1>");
                    //location.href="http://192.168.177.136:8080";    
                }
            });
        });
    }
}
	 </script>
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
  </body>
</html>


